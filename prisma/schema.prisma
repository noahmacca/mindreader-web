generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model Image {
  id                    Int                     @id @default(autoincrement())
  label                 String                  @db.VarChar
  predicted             String                  @db.VarChar
  NeuronImageActivation NeuronImageActivation[]
}

model Neuron {
  id                    String                  @id @db.VarChar
  topClasses            String                  @db.VarChar
  maxActivation         Float
  NeuronImageActivation NeuronImageActivation[]
}

model NeuronImageActivation {
  id            Int    @id @default(autoincrement())
  neuronId      String @db.VarChar
  imageId       Int
  maxActivation Float
  Image         Image  @relation(fields: [imageId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  Neuron        Neuron @relation(fields: [neuronId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
